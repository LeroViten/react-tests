{"version":3,"sources":["components/App/App.js","index.js"],"names":["App","useState","mode","setMode","videoRef","useRef","useEffect","getVideo","navigator","mediaDevices","getUserMedia","video","facingMode","width","height","then","stream","current","srcObject","play","catch","err","name","toast","error","console","message","className","ref","onClick","getTracks","forEach","track","stop","transition","Zoom","autoClose","toastStyle","backgroundColor","color","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oNA+EeA,MA1Ef,WACE,MAA0BC,mBAAS,MAAnC,mBACA,GADA,UACwBA,mBAAS,gBAAjC,mBAAOC,EAAP,KAAaC,EAAb,KAEMC,EAAWC,iBAAO,MAExBC,qBAAU,WACRC,MACC,CAACH,EAAUF,IAEd,IAAMK,EAAW,WACfC,UAAUC,aACPC,aAAa,CACZC,MAAO,CAAEC,WAAYV,EAAMW,MAAO,IAAKC,OAAQ,OAEhDC,MAAK,SAACC,GACL,IAAIL,EAAQP,EAASa,QACrBN,EAAMO,UAAYF,EAClBL,EAAMQ,UAEPC,OAAM,SAACC,GACW,yBAAbA,EAAIC,MACNC,IAAMC,MAAM,qCAEG,qBAAbH,EAAIC,MACNC,IAAMC,MAAM,oDAEG,kBAAbH,EAAIC,MACNC,IAAMC,MAAM,qCAEG,cAAbH,EAAIC,MACNC,IAAMC,MAAM,gDAEG,oBAAbH,EAAIC,MACNC,IAAMC,MAAM,8CAEdC,QAAQD,MAAMH,EAAIC,MAClBG,QAAQD,MAAMH,EAAIK,aAYxB,OACE,gCACE,qBAAKC,UAAU,gBAAf,SACE,uBAAOC,IAAKxB,MAEd,sBAAKuB,UAAU,aAAf,UACE,wBAAQA,UAAU,MAAME,QAAStB,EAAjC,mBAGA,wBAAQoB,UAAU,MAAME,QAjBZ,WAChBzB,EAASa,QAAQC,UAAUY,YAAYC,SAAQ,SAACC,GAAD,OAAWA,EAAMC,WAgB5D,kBAGA,wBAAQN,UAAU,MAAME,QAhBR,WACpB1B,EAAiB,SAATD,EAAkB,cAAgB,SAetC,uBAIF,cAAC,IAAD,CACEgC,WAAYC,IACZC,UAAW,IACXC,WAAY,CAAEC,gBAAiB,UAAWC,MAAO,iBCrEzDC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.09386c12.chunk.js","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { toast, ToastContainer, Zoom } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './App.scss';\r\n\r\nfunction App() {\r\n  const [video, setVideo] = useState(null);\r\n  const [mode, setMode] = useState('environment');\r\n  \r\n  const videoRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    getVideo();\r\n  }, [videoRef, mode]);\r\n\r\n  const getVideo = () => {\r\n    navigator.mediaDevices\r\n      .getUserMedia({\r\n        video: { facingMode: mode, width: 320, height: 240 },\r\n      })\r\n      .then((stream) => {\r\n        let video = videoRef.current;\r\n        video.srcObject = stream;\r\n        video.play();\r\n      })\r\n      .catch((err) => {\r\n        if (err.name === 'OverconstrainedError') {\r\n          toast.error('This camera mode is not supported');\r\n        }\r\n        if (err.name === 'NotReadableError') {\r\n          toast.error('There was hardware problem, please reload a page');\r\n        }\r\n        if (err.name === 'NotFoundError') {\r\n          toast.error('No compatible camera source found');\r\n        }\r\n        if (err.name === 'TypeError') {\r\n          toast.error('Video stream error in not secure environment');\r\n        }\r\n        if (err.name === 'NotAllowedError') {\r\n          toast.error('You rejected permission to use your camera');\r\n        }\r\n        console.error(err.name);\r\n        console.error(err.message);\r\n      });\r\n  };\r\n\r\n  const stopVideo = () => {\r\n    videoRef.current.srcObject.getTracks().forEach((track) => track.stop());\r\n  };\r\n\r\n  const switchCameras = () => {\r\n    setMode(mode === 'user' ? 'environment' : 'user');\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"streamWrapper\">\r\n        <video ref={videoRef} />\r\n      </div>\r\n      <div className=\"btnWrapper\">\r\n        <button className=\"btn\" onClick={getVideo}>\r\n          START\r\n        </button>\r\n        <button className=\"btn\" onClick={stopVideo}>\r\n          STOP\r\n        </button>\r\n        <button className=\"btn\" onClick={switchCameras}>\r\n          SWITCH\r\n        </button>\r\n      </div>\r\n      <ToastContainer\r\n        transition={Zoom}\r\n        autoClose={4000}\r\n        toastStyle={{ backgroundColor: '#c57d7d', color: '#000000' }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App/App.js';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}